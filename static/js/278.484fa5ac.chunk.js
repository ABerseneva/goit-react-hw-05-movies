"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[278],{18:function(e,t,n){var r=n(861),a=n(757),c=n.n(a),u=n(243);u.Z.defaults.baseURL="https://api.themoviedb.org/3/";var s="28b9dff9541e6a7c7078bb12d751dcf6",i=function(){var e=(0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("trending/movie/day?api_key=".concat(s,"&language=en-US"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("search/movie?api_key=".concat(s,"&language=en-US&query=").concat(t,"&page=1&include_adult=false&include_adult=false"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/movie/".concat(t,"?api_key=").concat(s,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/movie/".concat(t,"/credits?api_key=").concat(s,"&language=en-US&page=1"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/movie/".concat(t,"/reviews?api_key=").concat(s,"&language=en-US&page=1"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v={getMoviesDay:i,getMoviesQuery:o,getMoviesDetails:p,getMoviesCast:f,getMoviesReviews:l};t.Z=v},278:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=n(861),a=n(439),c=n(757),u=n.n(c),s=n(791),i=n(87),o=n(18),p=n(184);function f(){var e=(0,s.useState)(""),t=(0,a.Z)(e,2),n=t[0],c=t[1],f=(0,i.lr)(),l=(0,a.Z)(f,2),v=l[0],h=l[1],d=(0,s.useState)([]),g=(0,a.Z)(d,2),m=g[0],x=g[1];(0,s.useEffect)((function(){var e=function(){var e=(0,r.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.getMoviesQuery(n);case 2:t=e.sent,x(t.data.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n]),(0,s.useEffect)((function(){var e=function(){var e=(0,r.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.getMoviesDay();case 2:t=e.sent,x(t.data.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);return(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{children:(0,p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(e.target.searchfield.value),h({query:e.target.searchfield.value}),e.target.reset()},children:[(0,p.jsx)("input",{name:"searchfield",type:"text",autoComplete:"off",placeholder:"Search movies"}),(0,p.jsx)("button",{type:"submit",className:"button",children:"Search"})]})}),(0,p.jsx)("ul",{children:m.map((function(e){var t=e.title,n=e.id,r=e.poster_path;return(0,p.jsx)("li",{children:(0,p.jsxs)(i.OL,{to:"".concat(n),state:{from:"/movies?".concat(v)},children:[(0,p.jsx)("img",{src:r?"https://image.tmdb.org/t/p/w300".concat(r," "):"https://static.thenounproject.com/png/1642843-200.png",alt:t}),(0,p.jsxs)("p",{children:[" ",t," "]})]})},n)}))})]})}}}]);
//# sourceMappingURL=278.484fa5ac.chunk.js.map